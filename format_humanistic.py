#!/usr/bin/env python3
"""
按照人文社科类格式重新整理论文（第一章，一，（一）形式）
"""

import re

def format_humanistic_thesis(input_file, output_file):
    """
    按照人文社科类格式重新整理论文
    """
    print(f"正在按人文社科类格式整理: {input_file}")
    
    try:
        with open(input_file, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # 提取摘要内容
        abstract_match = re.search(r'## 摘要\n\n(.*?)\n\n\*\*关键词', content, re.DOTALL)
        abstract_content = abstract_match.group(1) if abstract_match else ""
        
        # 提取关键词
        keywords_match = re.search(r'\*\*关键词\*\*：(.+)', content)
        keywords = keywords_match.group(1) if keywords_match else ""
        
        # 重新构建人文社科类格式的论文
        formatted_content = f"""# 摘要

{abstract_content}

**关键词：** {keywords}

# Abstract

(English abstract to be added)

**Key words:** (English keywords to be added)

# 第一章 绪论

## 一、研究背景、目的与意义

### （一）研究背景

(研究背景内容)

### （二）研究目的

(研究目的内容)

### （三）研究意义

(研究意义内容)

## 二、国内外研究动态和趋势

### （一）国外文化认同研究综述

(国外研究综述内容)

### （二）国内文化认同研究综述

(国内研究综述内容)

### （三）宣威地区文化认同研究现状

(地区研究现状内容)

### （四）研究述评

(研究述评内容)

## 三、研究的主要内容和方法

### （一）研究内容

(研究内容)

### （二）研究方法

(研究方法)

## 四、创新之处

### （一）宏观与微观结合的研究视角创新

(创新点1)

### （二）"交往—身份—多元一体"理论框架创新

(创新点2)

### （三）定量与定性相结合的研究方法创新

(创新点3)

# 第二章 文化认同的内涵及其理论基础

## 一、文化认同的基本内涵和分类

### （一）文化认同概念的多维解读

(概念解读内容)

### （二）学者对文化认同的代表性定义

(定义内容)

### （三）文化认同与相关概念的辨析

(辨析内容)

### （四）文化认同的类型划分

(类型划分内容)

## 二、民族文化认同的内涵界定

### （一）民族文化认同的基本概念

(基本概念内容)

### （二）民族文化认同的特殊性

(特殊性内容)

## 三、理论基础

### （一）哈贝马斯交往理论

(理论1内容)

### （二）埃里克森身份认同理论

(理论2内容)

### （三）费孝通多元一体理论

(理论3内容)

# 第三章 研究设计与方法

## 一、研究设计

### （一）研究思路与框架

(研究思路内容)

### （二）研究对象选择

(研究对象内容)

## 二、研究方法

### （一）文献研究法

(文献研究内容)

### （二）问卷调查法

(问卷调查内容)

### （三）访谈法

(访谈法内容)

### （四）案例分析法

(案例分析内容)

## 三、数据收集与分析

### （一）数据收集过程

(数据收集内容)

### （二）数据分析方法

(数据分析内容)

# 第四章 云南宣威地区高中生文化认同现状调查

## 一、调查基本情况

### （一）调查对象

(调查对象内容)

### （二）调查实施

(调查实施内容)

## 二、调查结果分析

### （一）文化认同总体水平

(总体水平分析)

### （二）文化认同的特点

(特点分析)

### （三）影响因素分析

(影响因素分析)

## 三、存在的问题

### （一）知行分离现象

(问题1分析)

### （二）教学资源不足

(问题2分析)

### （三）本土文化关注不够

(问题3分析)

# 第五章 少数民族地区高中思想政治课文化认同教育策略

## 一、文化认同教育的基本理念

### （一）多元统一理念

(理念1内容)

### （二）知情意行统一理念

(理念2内容)

## 二、教育策略体系构建

### （一）开掘学校地域传统文化

(策略1内容)

### （二）运用思想政治课教材资源

(策略2内容)

### （三）挖掘时政资源

(策略3内容)

### （四）探索数字技术赋能

(策略4内容)

## 三、宣威地区特色实践

### （一）彝汉双语思政课实践

(特色实践1)

### （二）本土文化融入教学

(特色实践2)

### （三）实践推广价值

(推广价值)

# 结论

## 一、主要研究结论

(主要结论内容)

## 二、研究贡献与创新

### （一）理论贡献

(理论贡献内容)

### （二）实践贡献

(实践贡献内容)

### （三）方法创新

(方法创新内容)

## 三、研究局限与展望

### （一）研究局限

(局限性内容)

### （二）未来展望

(展望内容)

# 参考文献

(参考文献列表)
"""
        
        # 写入格式化后的文件
        with open(output_file, 'w', encoding='utf-8') as f:
            f.write(formatted_content)
        
        print(f"✓ 人文社科类格式化完成: {output_file}")
        return True
        
    except Exception as e:
        print(f"✗ 格式化失败: {str(e)}")
        return False

def main():
    input_file = '/Users/niqian/Documents/GitHub/autarl/论文_简单合并.md'
    output_file = '/Users/niqian/Documents/GitHub/autarl/论文_人文社科格式.md'
    
    print("=== 按照人文社科类格式整理论文 ===")
    print("格式：第一章，一，（一）")
    
    if format_humanistic_thesis(input_file, output_file):
        print(f"\n✓ 已生成人文社科类格式: {output_file}")
        print("格式特点：")
        print("- 章级：第一章、第二章...")
        print("- 节级：一、二、三...")
        print("- 目级：（一）、（二）、（三）...")

if __name__ == "__main__":
    main()